  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "dishes"[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "dishes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "number_of_reviews" integer, "price" float, "category" integer, "avg_rating" float, "imgs" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "restaurant_id" integer)[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE INDEX "index_dishes_on_restaurant_id" ON "dishes" ("restaurant_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "homepages"[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "homepages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reports"[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "reports" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "check_box" integer, "description" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "username" varchar, "website" varchar, "description" varchar, "profile_picture" varchar, "telephone_number" varchar, "address" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6))[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_restaurants_on_email" ON "restaurants" ("email")[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_restaurants_on_reset_password_token" ON "restaurants" ("reset_password_token")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviewers"[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "reviewers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "profile_picture" varchar, "telephone_number" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6))[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_reviewers_on_email" ON "reviewers" ("email")[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_reviewers_on_reset_password_token" ON "reviewers" ("reset_password_token")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews"[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "rating1" integer, "rating2" integer, "rating3" integer, "description" varchar, "imgs" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "dish_id" integer NOT NULL, "reviewer_id" integer NOT NULL)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_dish_id" ON "reviews" ("dish_id")[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_reviewer_id" ON "reviews" ("reviewer_id")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "areviews" ("id" integer NOT NULL PRIMARY KEY, "rating1" integer DEFAULT NULL, "rating2" integer DEFAULT NULL, "rating3" integer DEFAULT NULL, "description" varchar DEFAULT NULL, "imgs" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "dish_id" integer NOT NULL, "reviewer_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_areviews_on_reviewer_id" ON "areviews" ("reviewer_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_areviews_on_dish_id" ON "areviews" ("dish_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "areviews" ("id","rating1","rating2","rating3","description","imgs","created_at","updated_at","dish_id","reviewer_id")
                     SELECT "id","rating1","rating2","rating3","description","imgs","created_at","updated_at","dish_id","reviewer_id" FROM "reviews"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "reviews"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" integer NOT NULL PRIMARY KEY, "rating1" integer DEFAULT NULL, "rating2" integer DEFAULT NULL, "rating3" integer DEFAULT NULL, "description" varchar DEFAULT NULL, "imgs" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "dish_id" integer NOT NULL, "reviewer_id" integer NOT NULL, CONSTRAINT "fk_rails_20a1166865"
FOREIGN KEY ("dish_id")
  REFERENCES "dishes" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_dish_id" ON "reviews" ("dish_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_reviewer_id" ON "reviews" ("reviewer_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "reviews" ("id","rating1","rating2","rating3","description","imgs","created_at","updated_at","dish_id","reviewer_id")
                     SELECT "id","rating1","rating2","rating3","description","imgs","created_at","updated_at","dish_id","reviewer_id" FROM "areviews"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "areviews"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "areviews" ("id" integer NOT NULL PRIMARY KEY, "rating1" integer DEFAULT NULL, "rating2" integer DEFAULT NULL, "rating3" integer DEFAULT NULL, "description" varchar DEFAULT NULL, "imgs" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "dish_id" integer NOT NULL, "reviewer_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_areviews_on_reviewer_id" ON "areviews" ("reviewer_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_areviews_on_dish_id" ON "areviews" ("dish_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "areviews" ("id","rating1","rating2","rating3","description","imgs","created_at","updated_at","dish_id","reviewer_id")
                     SELECT "id","rating1","rating2","rating3","description","imgs","created_at","updated_at","dish_id","reviewer_id" FROM "reviews"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "reviews"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" integer NOT NULL PRIMARY KEY, "rating1" integer DEFAULT NULL, "rating2" integer DEFAULT NULL, "rating3" integer DEFAULT NULL, "description" varchar DEFAULT NULL, "imgs" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "dish_id" integer NOT NULL, "reviewer_id" integer NOT NULL, CONSTRAINT "fk_rails_20a1166865"
FOREIGN KEY ("dish_id")
  REFERENCES "dishes" ("id")
, CONSTRAINT "fk_rails_007031d9cb"
FOREIGN KEY ("reviewer_id")
  REFERENCES "reviewers" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_dish_id" ON "reviews" ("dish_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_reviewer_id" ON "reviews" ("reviewer_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "reviews" ("id","rating1","rating2","rating3","description","imgs","created_at","updated_at","dish_id","reviewer_id")
                     SELECT "id","rating1","rating2","rating3","description","imgs","created_at","updated_at","dish_id","reviewer_id" FROM "areviews"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "areviews"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221018103226)[0m
  [1m[35m (9.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220829111615),
(20220829112328),
(20220829112338),
(20220829112349),
(20220902083113),
(20220902150413),
(20220902150921),
(20220902151002),
(20220902151145),
(20220902151233),
(20220902151253),
(20221018103219);

[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2022-10-29 15:05:32.944601"], ["updated_at", "2022-10-29 15:05:32.944601"]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "cd4d5f2d48554995e8a5c644c3c2386307b70319"], ["created_at", "2022-10-29 15:05:32.956241"], ["updated_at", "2022-10-29 15:05:32.956241"]]
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (3.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:33:30 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 22.2ms | Allocations: 2188)
  Rendered home/index.html.erb within layouts/application (Duration: 23973.5ms | Allocations: 315737)
  Rendered layout layouts/application.html.erb (Duration: 24034.6ms | Allocations: 333559)
Completed 200 OK in 24057ms (Views: 24040.7ms | ActiveRecord: 0.0ms | Allocations: 338225)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:33:54 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.6ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1820)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 5989)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 6273)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:33:54 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.5ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1815)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 5984)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 6267)
  [1m[36mActiveRecord::InternalMetadata Pluck (2.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:36:23 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 13.9ms | Allocations: 2188)
  Rendered home/index.html.erb within layouts/application (Duration: 14214.7ms | Allocations: 220172)
  Rendered layout layouts/application.html.erb (Duration: 14286.9ms | Allocations: 238270)
Completed 200 OK in 14362ms (Views: 14323.8ms | ActiveRecord: 0.0ms | Allocations: 242936)
Started GET "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 09:36:37 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.7ms | Allocations: 776)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 62.8ms | Allocations: 5659)
  Rendered layout layouts/application.html.erb (Duration: 69.1ms | Allocations: 9842)
Completed 200 OK in 146ms (Views: 74.6ms | ActiveRecord: 30.6ms | Allocations: 22003)
Started POST "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 09:36:38 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"restaurant"=>{"email"=>"testcarlopizza@pizza.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mRestaurant Load (2.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."email" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["email", "testcarlopizza@pizza.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 8ms (ActiveRecord: 2.5ms | Allocations: 1389)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"restaurant"=>{"email"=>"testcarlopizza@pizza.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 140)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1592)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 5618)
Completed 200 OK in 29ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 6813)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:36:38 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.3ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1820)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 6019)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 6304)
Started GET "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 09:36:38 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.0ms | Allocations: 242)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1710)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 5737)
Completed 200 OK in 46ms (Views: 10.3ms | ActiveRecord: 10.4ms | Allocations: 11924)
Started POST "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 09:36:38 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"reviewer"=>{"email"=>"testrec1@test.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mReviewer Load (9.6ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."email" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["email", "testrec1@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (ActiveRecord: 9.6ms | Allocations: 890)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"reviewer"=>{"email"=>"testrec1@test.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 137)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1414)
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | Allocations: 5410)
Completed 200 OK in 48ms (Views: 44.6ms | ActiveRecord: 0.0ms | Allocations: 5897)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:36:38 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 2.1ms | Allocations: 999)
  Rendered home/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1822)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 6038)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 6321)
Started GET "/reviewers/sign_up" for 127.0.0.1 at 2023-01-12 09:36:38 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 2.0ms | Allocations: 214)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2602)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 6759)
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.0ms | Allocations: 7945)
  [1m[36mActiveRecord::InternalMetadata Pluck (20.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:39:55 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 14.4ms | Allocations: 2188)
  Rendered home/index.html.erb within layouts/application (Duration: 14628.2ms | Allocations: 219380)
  Rendered layout layouts/application.html.erb (Duration: 14666.0ms | Allocations: 237478)
Completed 200 OK in 14700ms (Views: 14676.3ms | ActiveRecord: 0.0ms | Allocations: 242144)
Started GET "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 09:40:10 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.5ms | Allocations: 776)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 46.5ms | Allocations: 5213)
  Rendered layout layouts/application.html.erb (Duration: 51.3ms | Allocations: 9396)
Completed 200 OK in 107ms (Views: 62.9ms | ActiveRecord: 13.1ms | Allocations: 21561)
Started POST "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 09:40:10 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"restaurant"=>{"email"=>"testcarlopizza@pizza.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mRestaurant Load (5.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."email" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["email", "testcarlopizza@pizza.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 410ms (ActiveRecord: 5.4ms | Allocations: 3371)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:40:10 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.1ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1818)
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 6647)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.3ms | Allocations: 6926)
Started GET "/restaurants/1" for 127.0.0.1 at 2023-01-12 09:40:10 +0100
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (3.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "profile_picture"], ["LIMIT", 1]]
  Rendered restaurants/_restaurant.html.erb (Duration: 44.9ms | Allocations: 4237)
  [1m[36mDish Load (3.3ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes"[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered dishes/_dish.html.erb (Duration: 18.2ms | Allocations: 2974)
  Rendered restaurants/_restaurant.html.erb (Duration: 0.2ms | Allocations: 25)
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.1ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes"[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered restaurants/show.html.erb within layouts/application (Duration: 662.8ms | Allocations: 24430)
  Rendered layout layouts/application.html.erb (Duration: 672.8ms | Allocations: 28648)
Completed 200 OK in 680ms (Views: 659.3ms | ActiveRecord: 16.3ms | Allocations: 29958)
Started GET "/dishes/new" for 127.0.0.1 at 2023-01-12 09:40:11 +0100
Processing by DishesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering dishes/new.html.erb within layouts/application
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered dishes/new.html.erb within layouts/application (Duration: 21.6ms | Allocations: 4074)
  Rendered layout layouts/application.html.erb (Duration: 29.9ms | Allocations: 8489)
Completed 200 OK in 35ms (Views: 30.1ms | ActiveRecord: 2.5ms | Allocations: 9354)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:40:11 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.8ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1815)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 6014)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms | Allocations: 6298)
Started GET "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 09:40:11 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 242)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1710)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 5737)
Completed 200 OK in 25ms (Views: 8.7ms | ActiveRecord: 5.1ms | Allocations: 11925)
Started POST "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 09:40:11 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"reviewer"=>{"email"=>"testrec1@test.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mReviewer Load (14.7ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."email" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["email", "testrec1@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 369ms (ActiveRecord: 14.7ms | Allocations: 1417)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:40:11 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 12.7ms | Allocations: 975)
  Rendered home/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 1721)
  [1m[36mReviewer Load (0.3ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 6269)
Completed 200 OK in 22ms (Views: 21.4ms | ActiveRecord: 0.3ms | Allocations: 6492)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:40:11 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.2ms | Allocations: 975)
  Rendered home/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1721)
  [1m[36mReviewer Load (0.4ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 79.1ms | Allocations: 6213)
Completed 200 OK in 80ms (Views: 79.5ms | ActiveRecord: 0.4ms | Allocations: 6436)
Started GET "/search_dish?form_input=Pizza&sort=&commit=Cerca" for 127.0.0.1 at 2023-01-12 09:40:12 +0100
Processing by SearchController#search_dish as HTML
  Parameters: {"form_input"=>"Pizza", "sort"=>"", "commit"=>"Cerca"}
  Rendering layout layouts/application.html.erb
  Rendering search/search_dish.html.erb within layouts/application
  [1m[36mDish Load (252.6ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE (lower(name) LIKE 'pizza%')[0m
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered collection of dishes/_dish.html.erb [1 times] (Duration: 91.0ms | Allocations: 1182)
  [1m[36mCACHE Restaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReviewer Load (0.7ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered search/_form.html.erb (Duration: 4.6ms | Allocations: 1680)
  Rendered search/search_dish.html.erb within layouts/application (Duration: 376.2ms | Allocations: 7175)
  Rendered layout layouts/application.html.erb (Duration: 476.6ms | Allocations: 11346)
Completed 200 OK in 482ms (Views: 225.6ms | ActiveRecord: 254.7ms | Allocations: 12095)
Started GET "/dishes/2" for 127.0.0.1 at 2023-01-12 09:40:13 +0100
Processing by DishesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mDish Load (105.5ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering dishes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mReviewer Load (1.1ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReview Load (27.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  [1m[36mReport Load (6.1ms)[0m  [1m[34mSELECT "reports".* FROM "reports"[0m
  [1m[36mRestaurant Load (1.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Review Load (0.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  Rendered dishes/show.html.erb within layouts/application (Duration: 1954.2ms | Allocations: 7238)
  Rendered layout layouts/application.html.erb (Duration: 1969.1ms | Allocations: 11428)
Completed 200 OK in 2081ms (Views: 1933.4ms | ActiveRecord: 142.2ms | Allocations: 12092)
Started GET "/reviews/new?dish_id=2" for 127.0.0.1 at 2023-01-12 09:40:15 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"dish_id"=>"2"}
  Rendering layout layouts/application.html.erb
  Rendering reviews/new.html.erb within layouts/application
  [1m[36mReviewer Load (0.4ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered reviews/_form.html.erb (Duration: 28.5ms | Allocations: 3613)
  Rendered reviews/new.html.erb within layouts/application (Duration: 32.2ms | Allocations: 3867)
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 8061)
Completed 200 OK in 60ms (Views: 38.2ms | ActiveRecord: 5.0ms | Allocations: 13232)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:40:15 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.1ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1815)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 6014)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 6298)
Started GET "/reviewers/sign_up" for 127.0.0.1 at 2023-01-12 09:40:15 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 9.6ms | Allocations: 210)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 19.9ms | Allocations: 2591)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 6731)
Completed 200 OK in 34ms (Views: 28.2ms | ActiveRecord: 0.0ms | Allocations: 7915)
Started GET "/reviewers/sign_up?reviewer[username]=test2&reviewer[email]=test2%40test.com&reviewer[password]=[FILTERED]&reviewer[password_confirmation]=[FILTERED]&commit=Conferma" for 127.0.0.1 at 2023-01-12 09:40:15 +0100
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"reviewer"=>{"username"=>"test2", "email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Conferma"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1356)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 5383)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 6029)
  [1m[36mActiveRecord::InternalMetadata Pluck (14.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:46:14 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 17.0ms | Allocations: 2188)
  Rendered home/index.html.erb within layouts/application (Duration: 16169.4ms | Allocations: 219551)
  Rendered layout layouts/application.html.erb (Duration: 16263.2ms | Allocations: 237649)
Completed 200 OK in 16289ms (Views: 16270.7ms | ActiveRecord: 0.0ms | Allocations: 242315)
Started GET "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 09:46:31 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.3ms | Allocations: 776)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 36.5ms | Allocations: 5213)
  Rendered layout layouts/application.html.erb (Duration: 40.4ms | Allocations: 9396)
Completed 200 OK in 124ms (Views: 45.0ms | ActiveRecord: 41.2ms | Allocations: 21557)
Started POST "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 09:46:31 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"restaurant"=>{"email"=>"testcarlopizza@pizza.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."email" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["email", "testcarlopizza@pizza.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 391ms (ActiveRecord: 0.8ms | Allocations: 3359)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:46:31 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.1ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1813)
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 6606)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.7ms | Allocations: 6885)
Started GET "/restaurants/1" for 127.0.0.1 at 2023-01-12 09:46:31 +0100
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (9.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "profile_picture"], ["LIMIT", 1]]
  Rendered restaurants/_restaurant.html.erb (Duration: 47.6ms | Allocations: 4237)
  [1m[36mDish Load (0.8ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes"[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered dishes/_dish.html.erb (Duration: 7.8ms | Allocations: 1845)
  Rendered restaurants/_restaurant.html.erb (Duration: 0.1ms | Allocations: 25)
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes"[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered restaurants/show.html.erb within layouts/application (Duration: 617.8ms | Allocations: 23293)
  Rendered layout layouts/application.html.erb (Duration: 624.0ms | Allocations: 27511)
Completed 200 OK in 638ms (Views: 615.6ms | ActiveRecord: 17.5ms | Allocations: 28821)
Started GET "/dishes/new" for 127.0.0.1 at 2023-01-12 09:46:32 +0100
Processing by DishesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering dishes/new.html.erb within layouts/application
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered dishes/new.html.erb within layouts/application (Duration: 21.5ms | Allocations: 4004)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 8419)
Completed 200 OK in 44ms (Views: 32.6ms | ActiveRecord: 9.2ms | Allocations: 9284)
Started POST "/dishes" for 127.0.0.1 at 2023-01-12 09:46:32 +0100
Processing by DishesController#create as HTML
  Parameters: {"dish"=>{"images"=>[""], "name"=>"Carbonara", "description"=>"Pasta tipica romana", "category"=>"1", "price"=>"5.00", "ingredients"=>"Spaghetti, Guanciale, Uova e Pecorino Romano", "avg_rating"=>"0", "number_of_reviews"=>"0", "restaurant_id"=>"1"}, "commit"=>"Conferma"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDish Create (25.2ms)[0m  [1m[32mINSERT INTO "dishes" ("name", "number_of_reviews", "price", "category", "avg_rating", "created_at", "updated_at", "restaurant_id", "ingredients", "description") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Carbonara"], ["number_of_reviews", 0], ["price", 5.0], ["category", 1], ["avg_rating", 0.0], ["created_at", "2023-01-12 08:46:32.694164"], ["updated_at", "2023-01-12 08:46:32.694164"], ["restaurant_id", 1], ["ingredients", "Spaghetti, Guanciale, Uova e Pecorino Romano"], ["description", "Pasta tipica romana"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 52], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/dishes/52
Completed 302 Found in 48ms (ActiveRecord: 26.4ms | Allocations: 4200)
Started GET "/dishes/52" for 127.0.0.1 at 2023-01-12 09:46:32 +0100
Processing by DishesController#show as HTML
  Parameters: {"id"=>"52"}
  [1m[36mDish Load (1.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering dishes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 52], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReview Load (2.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  Rendered dishes/show.html.erb within layouts/application (Duration: 26.3ms | Allocations: 6154)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 10312)
Completed 200 OK in 35ms (Views: 27.1ms | ActiveRecord: 5.4ms | Allocations: 11016)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:46:32 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.6ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1820)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 6020)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms | Allocations: 6304)
Started GET "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 09:46:32 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 242)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 1710)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 5737)
Completed 200 OK in 47ms (Views: 18.2ms | ActiveRecord: 6.6ms | Allocations: 11925)
Started POST "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 09:46:32 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"reviewer"=>{"email"=>"testrec1@test.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mReviewer Load (1.2ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."email" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["email", "testrec1@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 341ms (ActiveRecord: 1.2ms | Allocations: 1405)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:46:33 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.1ms | Allocations: 975)
  Rendered home/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1721)
  [1m[36mReviewer Load (0.3ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 6272)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 6495)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:46:33 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.1ms | Allocations: 975)
  Rendered home/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1721)
  [1m[36mReviewer Load (0.3ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 6219)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms | Allocations: 6442)
Started GET "/search_dish?form_input=Pizza&sort=&commit=Cerca" for 127.0.0.1 at 2023-01-12 09:46:33 +0100
Processing by SearchController#search_dish as HTML
  Parameters: {"form_input"=>"Pizza", "sort"=>"", "commit"=>"Cerca"}
  Rendering layout layouts/application.html.erb
  Rendering search/search_dish.html.erb within layouts/application
  [1m[36mDish Load (3.2ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE (lower(name) LIKE 'pizza%')[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (3.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered collection of dishes/_dish.html.erb [1 times] (Duration: 13.2ms | Allocations: 1186)
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReviewer Load (1.1ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered search/_form.html.erb (Duration: 2.6ms | Allocations: 1630)
  Rendered search/search_dish.html.erb within layouts/application (Duration: 31.5ms | Allocations: 6384)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 10555)
Completed 200 OK in 41ms (Views: 33.0ms | ActiveRecord: 7.6ms | Allocations: 11301)
Started GET "/dishes/2" for 127.0.0.1 at 2023-01-12 09:46:33 +0100
Processing by DishesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mDish Load (1.9ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering dishes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mReviewer Load (0.8ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  [1m[36mReport Load (0.8ms)[0m  [1m[34mSELECT "reports".* FROM "reports"[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Review Load (0.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  Rendered dishes/show.html.erb within layouts/application (Duration: 28.0ms | Allocations: 3116)
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | Allocations: 7305)
Completed 200 OK in 50ms (Views: 43.0ms | ActiveRecord: 5.0ms | Allocations: 7700)
Started GET "/reviews/new?dish_id=2" for 127.0.0.1 at 2023-01-12 09:46:33 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"dish_id"=>"2"}
  Rendering layout layouts/application.html.erb
  Rendering reviews/new.html.erb within layouts/application
  [1m[36mReviewer Load (0.4ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered reviews/_form.html.erb (Duration: 49.6ms | Allocations: 3556)
  Rendered reviews/new.html.erb within layouts/application (Duration: 64.0ms | Allocations: 3813)
  Rendered layout layouts/application.html.erb (Duration: 82.2ms | Allocations: 8025)
Completed 200 OK in 165ms (Views: 86.7ms | ActiveRecord: 7.2ms | Allocations: 13212)
Started POST "/reviews" for 127.0.0.1 at 2023-01-12 09:46:33 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"review"=>{"images"=>[""], "rating1"=>"2", "rating2"=>"3", "rating3"=>"4", "description"=>"Pizza molto gustosa, buono il servizio", "dish_id"=>"2", "reviewer_id"=>"1"}, "commit"=>"Conferma"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDish Load (0.4ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mReview Create (66.1ms)[0m  [1m[32mINSERT INTO "reviews" ("rating1", "rating2", "rating3", "description", "created_at", "updated_at", "dish_id", "reviewer_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["rating1", 2], ["rating2", 3], ["rating3", 4], ["description", "Pizza molto gustosa, buono il servizio"], ["created_at", "2023-01-12 08:46:33.622432"], ["updated_at", "2023-01-12 08:46:33.622432"], ["dish_id", 2], ["reviewer_id", 1]]
  [1m[36mDish Load (0.9ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mReview Load (0.9ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"], ["LIMIT", 1]]
  [1m[36mDish Update (1.2ms)[0m  [1m[33mUPDATE "dishes" SET "number_of_reviews" = $1, "avg_rating" = $2, "updated_at" = $3 WHERE "dishes"."id" = $4[0m  [["number_of_reviews", 1], ["avg_rating", 3.0], ["updated_at", "2023-01-12 08:46:33.713178"], ["id", 2]]
  [1m[36mActiveStorage::Attachment Load (3.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 9], ["record_type", "Review"], ["name", "images"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/reviews/9
Completed 302 Found in 116ms (ActiveRecord: 74.8ms | Allocations: 4886)
Started GET "/reviews/9" for 127.0.0.1 at 2023-01-12 09:46:33 +0100
Processing by ReviewsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reviews/show.html.erb within layouts/application
  [1m[36mDish Load (2.2ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReviewer Load (0.5ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 9], ["record_type", "Review"], ["name", "images"]]
  Rendered reviews/_review.html.erb (Duration: 42.2ms | Allocations: 2719)
  [1m[36mReviewer Load (1.3ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered reviews/show.html.erb within layouts/application (Duration: 67.8ms | Allocations: 4388)
  [1m[36mCACHE Reviewer Load (0.0ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 101.1ms | Allocations: 9658)
Completed 200 OK in 112ms (Views: 96.9ms | ActiveRecord: 6.6ms | Allocations: 10270)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:46:33 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 4.9ms | Allocations: 998)
  Rendered home/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1820)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 6019)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.0ms | Allocations: 6303)
Started GET "/reviewers/sign_up" for 127.0.0.1 at 2023-01-12 09:46:33 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 21.2ms | Allocations: 210)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 38.3ms | Allocations: 2589)
  Rendered layout layouts/application.html.erb (Duration: 51.7ms | Allocations: 6729)
Completed 200 OK in 56ms (Views: 54.0ms | ActiveRecord: 0.0ms | Allocations: 7913)
Started GET "/reviewers/sign_up?reviewer[username]=test2&reviewer[email]=test2%40test.com&reviewer[password]=[FILTERED]&reviewer[password_confirmation]=[FILTERED]&commit=Conferma" for 127.0.0.1 at 2023-01-12 09:46:34 +0100
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"reviewer"=>{"username"=>"test2", "email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Conferma"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 11)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1356)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5383)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.0ms | Allocations: 6026)
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:50:05 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 26.9ms | Allocations: 2188)
  Rendered home/index.html.erb within layouts/application (Duration: 15160.1ms | Allocations: 219796)
  Rendered layout layouts/application.html.erb (Duration: 15225.5ms | Allocations: 237894)
Completed 200 OK in 15273ms (Views: 15234.3ms | ActiveRecord: 0.0ms | Allocations: 242560)
Started GET "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 09:50:20 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 13.2ms | Allocations: 776)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 51.4ms | Allocations: 5213)
  Rendered layout layouts/application.html.erb (Duration: 57.5ms | Allocations: 9396)
Completed 200 OK in 117ms (Views: 62.8ms | ActiveRecord: 17.1ms | Allocations: 21561)
Started POST "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 09:50:21 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"restaurant"=>{"email"=>"testcarlopizza@pizza.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."email" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["email", "testcarlopizza@pizza.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 377ms (ActiveRecord: 1.0ms | Allocations: 3365)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:50:21 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 10.9ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 1818)
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 6665)
Completed 200 OK in 25ms (Views: 23.5ms | ActiveRecord: 0.4ms | Allocations: 6944)
Started GET "/restaurants/1" for 127.0.0.1 at 2023-01-12 09:50:21 +0100
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "profile_picture"], ["LIMIT", 1]]
  Rendered restaurants/_restaurant.html.erb (Duration: 51.2ms | Allocations: 4237)
  [1m[36mDish Load (0.7ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes"[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered dishes/_dish.html.erb (Duration: 23.0ms | Allocations: 1845)
  Rendered restaurants/_restaurant.html.erb (Duration: 0.2ms | Allocations: 25)
  [1m[36mRestaurant Load (0.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes"[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered restaurants/show.html.erb within layouts/application (Duration: 739.0ms | Allocations: 23258)
  Rendered layout layouts/application.html.erb (Duration: 743.9ms | Allocations: 27476)
Completed 200 OK in 750ms (Views: 735.5ms | ActiveRecord: 11.0ms | Allocations: 28786)
Started GET "/dishes/new" for 127.0.0.1 at 2023-01-12 09:50:22 +0100
Processing by DishesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering dishes/new.html.erb within layouts/application
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered dishes/new.html.erb within layouts/application (Duration: 22.6ms | Allocations: 4016)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 8431)
Completed 200 OK in 36ms (Views: 32.7ms | ActiveRecord: 2.4ms | Allocations: 9296)
Started POST "/dishes" for 127.0.0.1 at 2023-01-12 09:50:22 +0100
Processing by DishesController#create as HTML
  Parameters: {"dish"=>{"images"=>[""], "name"=>"Carbonara", "description"=>"Pasta tipica romana", "category"=>"1", "price"=>"5.00", "ingredients"=>"Spaghetti, Guanciale, Uova e Pecorino Romano", "avg_rating"=>"0", "number_of_reviews"=>"0", "restaurant_id"=>"1"}, "commit"=>"Conferma"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDish Create (4.7ms)[0m  [1m[32mINSERT INTO "dishes" ("name", "number_of_reviews", "price", "category", "avg_rating", "created_at", "updated_at", "restaurant_id", "ingredients", "description") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Carbonara"], ["number_of_reviews", 0], ["price", 5.0], ["category", 1], ["avg_rating", 0.0], ["created_at", "2023-01-12 08:50:22.358483"], ["updated_at", "2023-01-12 08:50:22.358483"], ["restaurant_id", 1], ["ingredients", "Spaghetti, Guanciale, Uova e Pecorino Romano"], ["description", "Pasta tipica romana"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 53], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/dishes/53
Completed 302 Found in 27ms (ActiveRecord: 5.8ms | Allocations: 4032)
Started GET "/dishes/53" for 127.0.0.1 at 2023-01-12 09:50:22 +0100
Processing by DishesController#show as HTML
  Parameters: {"id"=>"53"}
  [1m[36mDish Load (0.3ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering dishes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 53], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mRestaurant Load (1.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReview Load (4.9ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  Rendered dishes/show.html.erb within layouts/application (Duration: 26.5ms | Allocations: 6146)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | Allocations: 10322)
Completed 200 OK in 35ms (Views: 25.0ms | ActiveRecord: 7.1ms | Allocations: 11026)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:50:22 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 2.3ms | Allocations: 998)
  Rendered home/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1820)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 6032)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.0ms | Allocations: 6316)
Started GET "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 09:50:22 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 242)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1713)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 5740)
Completed 200 OK in 42ms (Views: 15.2ms | ActiveRecord: 4.7ms | Allocations: 11985)
Started POST "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 09:50:22 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"reviewer"=>{"email"=>"testrec1@test.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mReviewer Load (1.5ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."email" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["email", "testrec1@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 353ms (ActiveRecord: 1.5ms | Allocations: 1423)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:50:22 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.9ms | Allocations: 975)
  Rendered home/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1721)
  [1m[36mReviewer Load (0.3ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 6285)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.3ms | Allocations: 6508)
Started GET "/" for 127.0.0.1 at 2023-01-12 09:50:22 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 1.1ms | Allocations: 975)
  Rendered home/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1726)
  [1m[36mReviewer Load (6.0ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 6230)
Completed 200 OK in 20ms (Views: 13.2ms | ActiveRecord: 6.0ms | Allocations: 6453)
Started GET "/search_dish?form_input=Pizza&sort=&commit=Cerca" for 127.0.0.1 at 2023-01-12 09:50:22 +0100
Processing by SearchController#search_dish as HTML
  Parameters: {"form_input"=>"Pizza", "sort"=>"", "commit"=>"Cerca"}
  Rendering layout layouts/application.html.erb
  Rendering search/search_dish.html.erb within layouts/application
  [1m[36mDish Load (4.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE (lower(name) LIKE 'pizza%')[0m
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered collection of dishes/_dish.html.erb [1 times] (Duration: 7.8ms | Allocations: 1186)
  [1m[36mCACHE Restaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReviewer Load (1.3ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered search/_form.html.erb (Duration: 6.6ms | Allocations: 1630)
  Rendered search/search_dish.html.erb within layouts/application (Duration: 67.9ms | Allocations: 6378)
  Rendered layout layouts/application.html.erb (Duration: 76.5ms | Allocations: 10549)
Completed 200 OK in 82ms (Views: 74.3ms | ActiveRecord: 6.4ms | Allocations: 11295)
Started GET "/dishes/2" for 127.0.0.1 at 2023-01-12 09:50:23 +0100
Processing by DishesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mDish Load (0.8ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering dishes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mReviewer Load (0.7ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  [1m[36mReport Load (0.7ms)[0m  [1m[34mSELECT "reports".* FROM "reports"[0m
  [1m[36mRestaurant Load (0.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Review Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  Rendered dishes/show.html.erb within layouts/application (Duration: 33.8ms | Allocations: 3119)
  Rendered layout layouts/application.html.erb (Duration: 68.6ms | Allocations: 7323)
Completed 200 OK in 74ms (Views: 65.0ms | ActiveRecord: 5.1ms | Allocations: 7718)
Started GET "/reviews/new?dish_id=2" for 127.0.0.1 at 2023-01-12 09:50:23 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"dish_id"=>"2"}
  Rendering layout layouts/application.html.erb
  Rendering reviews/new.html.erb within layouts/application
  [1m[36mReviewer Load (1.8ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered reviews/_form.html.erb (Duration: 20.3ms | Allocations: 3534)
  Rendered reviews/new.html.erb within layouts/application (Duration: 22.9ms | Allocations: 3793)
  Rendered layout layouts/application.html.erb (Duration: 35.8ms | Allocations: 7999)
Completed 200 OK in 64ms (Views: 36.8ms | ActiveRecord: 7.8ms | Allocations: 13189)
Started POST "/reviews" for 127.0.0.1 at 2023-01-12 09:50:23 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"review"=>{"images"=>[""], "rating1"=>"2", "rating2"=>"3", "rating3"=>"4", "description"=>"Pizza molto gustosa, buono il servizio", "dish_id"=>"2", "reviewer_id"=>"1"}, "commit"=>"Conferma"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDish Load (0.5ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mReview Create (19.4ms)[0m  [1m[32mINSERT INTO "reviews" ("rating1", "rating2", "rating3", "description", "created_at", "updated_at", "dish_id", "reviewer_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["rating1", 2], ["rating2", 3], ["rating3", 4], ["description", "Pizza molto gustosa, buono il servizio"], ["created_at", "2023-01-12 08:50:23.233207"], ["updated_at", "2023-01-12 08:50:23.233207"], ["dish_id", 2], ["reviewer_id", 1]]
  [1m[36mDish Load (2.1ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  [1m[36mRestaurant Load (1.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"], ["LIMIT", 1]]
  [1m[36mDish Update (0.6ms)[0m  [1m[33mUPDATE "dishes" SET "number_of_reviews" = $1, "avg_rating" = $2, "updated_at" = $3 WHERE "dishes"."id" = $4[0m  [["number_of_reviews", 1], ["avg_rating", 3.0], ["updated_at", "2023-01-12 08:50:23.282281"], ["id", 2]]
  [1m[36mActiveStorage::Attachment Load (4.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 10], ["record_type", "Review"], ["name", "images"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/reviews/10
Completed 302 Found in 79ms (ActiveRecord: 31.0ms | Allocations: 4858)
Started GET "/reviews/10" for 127.0.0.1 at 2023-01-12 09:50:23 +0100
Processing by ReviewsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reviews/show.html.erb within layouts/application
  [1m[36mDish Load (2.3ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.1ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReviewer Load (0.7ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 10], ["record_type", "Review"], ["name", "images"]]
  Rendered reviews/_review.html.erb (Duration: 46.2ms | Allocations: 2718)
  [1m[36mReviewer Load (1.3ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered reviews/show.html.erb within layouts/application (Duration: 60.2ms | Allocations: 4396)
  [1m[36mCACHE Reviewer Load (0.0ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 75.7ms | Allocations: 9662)
Completed 200 OK in 82ms (Views: 70.5ms | ActiveRecord: 6.7ms | Allocations: 10274)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 09:50:23 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 8.3ms | Allocations: 998)
  Rendered home/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 1820)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 6019)
Completed 200 OK in 34ms (Views: 33.5ms | ActiveRecord: 0.0ms | Allocations: 6303)
Started GET "/reviewers/sign_up" for 127.0.0.1 at 2023-01-12 09:50:23 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 2.7ms | Allocations: 210)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 16.2ms | Allocations: 2589)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 6729)
Completed 200 OK in 33ms (Views: 30.4ms | ActiveRecord: 0.0ms | Allocations: 7913)
Started GET "/reviewers/sign_up?reviewer[username]=test2&reviewer[email]=test2%40test.com&reviewer[password]=[FILTERED]&reviewer[password_confirmation]=[FILTERED]&commit=Conferma" for 127.0.0.1 at 2023-01-12 09:50:23 +0100
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"reviewer"=>{"username"=>"test2", "email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Conferma"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.2ms | Allocations: 11)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1356)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 5383)
Completed 200 OK in 29ms (Views: 26.5ms | ActiveRecord: 0.0ms | Allocations: 6023)
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (4.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (3.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 12:05:06 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 17.5ms | Allocations: 2188)
  Rendered home/index.html.erb within layouts/application (Duration: 25969.0ms | Allocations: 220015)
  Rendered layout layouts/application.html.erb (Duration: 26030.9ms | Allocations: 238113)
Completed 200 OK in 26120ms (Views: 26058.3ms | ActiveRecord: 0.0ms | Allocations: 242779)
Started GET "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 12:05:32 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 9.8ms | Allocations: 776)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 91.6ms | Allocations: 5213)
  Rendered layout layouts/application.html.erb (Duration: 107.2ms | Allocations: 9396)
Completed 200 OK in 343ms (Views: 128.1ms | ActiveRecord: 130.9ms | Allocations: 21561)
Started POST "/restaurants/sign_in" for 127.0.0.1 at 2023-01-12 12:05:32 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"restaurant"=>{"email"=>"testcarlopizza@pizza.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mRestaurant Load (5.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."email" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["email", "testcarlopizza@pizza.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 474ms (ActiveRecord: 6.4ms | Allocations: 3366)
Started GET "/" for 127.0.0.1 at 2023-01-12 12:05:33 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 2.1ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1813)
  [1m[36mRestaurant Load (1.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 6649)
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 1.8ms | Allocations: 6928)
Started GET "/restaurants/1" for 127.0.0.1 at 2023-01-12 12:05:33 +0100
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (3.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (4.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "profile_picture"], ["LIMIT", 1]]
  Rendered restaurants/_restaurant.html.erb (Duration: 157.8ms | Allocations: 4241)
  [1m[36mDish Load (3.5ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes"[0m
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered dishes/_dish.html.erb (Duration: 31.3ms | Allocations: 1849)
  Rendered restaurants/_restaurant.html.erb (Duration: 0.3ms | Allocations: 27)
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes"[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered restaurants/show.html.erb within layouts/application (Duration: 987.9ms | Allocations: 23447)
  Rendered layout layouts/application.html.erb (Duration: 996.0ms | Allocations: 27646)
Completed 200 OK in 1018ms (Views: 975.1ms | ActiveRecord: 27.4ms | Allocations: 28960)
Started GET "/dishes/new" for 127.0.0.1 at 2023-01-12 12:05:34 +0100
Processing by DishesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering dishes/new.html.erb within layouts/application
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered dishes/new.html.erb within layouts/application (Duration: 29.3ms | Allocations: 4005)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | Allocations: 8420)
Completed 200 OK in 53ms (Views: 47.8ms | ActiveRecord: 3.9ms | Allocations: 9285)
Started POST "/dishes" for 127.0.0.1 at 2023-01-12 12:05:34 +0100
Processing by DishesController#create as HTML
  Parameters: {"dish"=>{"images"=>[""], "name"=>"Carbonara", "description"=>"Pasta tipica romana", "category"=>"1", "price"=>"5.00", "ingredients"=>"Spaghetti, Guanciale, Uova e Pecorino Romano", "avg_rating"=>"0", "number_of_reviews"=>"0", "restaurant_id"=>"1"}, "commit"=>"Conferma"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDish Create (8.4ms)[0m  [1m[32mINSERT INTO "dishes" ("name", "number_of_reviews", "price", "category", "avg_rating", "created_at", "updated_at", "restaurant_id", "ingredients", "description") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Carbonara"], ["number_of_reviews", 0], ["price", 5.0], ["category", 1], ["avg_rating", 0.0], ["created_at", "2023-01-12 11:05:34.565668"], ["updated_at", "2023-01-12 11:05:34.565668"], ["restaurant_id", 1], ["ingredients", "Spaghetti, Guanciale, Uova e Pecorino Romano"], ["description", "Pasta tipica romana"]]
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 54], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/dishes/54
Completed 302 Found in 52ms (ActiveRecord: 11.7ms | Allocations: 4013)
Started GET "/dishes/54" for 127.0.0.1 at 2023-01-12 12:05:34 +0100
Processing by DishesController#show as HTML
  Parameters: {"id"=>"54"}
  [1m[36mDish Load (0.7ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering dishes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 54], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 ORDER BY "restaurants"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Restaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReview Load (2.8ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  Rendered dishes/show.html.erb within layouts/application (Duration: 49.1ms | Allocations: 6150)
  Rendered layout layouts/application.html.erb (Duration: 59.9ms | Allocations: 10308)
Completed 200 OK in 74ms (Views: 56.7ms | ActiveRecord: 5.0ms | Allocations: 11012)
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 12:05:34 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 3.4ms | Allocations: 995)
  Rendered home/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1820)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 6020)
Completed 200 OK in 30ms (Views: 29.2ms | ActiveRecord: 0.0ms | Allocations: 6304)
Started GET "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 12:05:34 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 242)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.4ms | Allocations: 1710)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 5737)
Completed 200 OK in 64ms (Views: 20.2ms | ActiveRecord: 8.0ms | Allocations: 11925)
Started POST "/reviewers/sign_in" for 127.0.0.1 at 2023-01-12 12:05:34 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"reviewer"=>{"email"=>"testrec1@test.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mReviewer Load (4.2ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."email" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["email", "testrec1@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 418ms (ActiveRecord: 4.2ms | Allocations: 1411)
Started GET "/" for 127.0.0.1 at 2023-01-12 12:05:35 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 2.1ms | Allocations: 975)
  Rendered home/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1721)
  [1m[36mReviewer Load (24.0ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 38.0ms | Allocations: 6281)
Completed 200 OK in 40ms (Views: 14.8ms | ActiveRecord: 24.0ms | Allocations: 6504)
Started GET "/" for 127.0.0.1 at 2023-01-12 12:05:35 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 2.5ms | Allocations: 975)
  Rendered home/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1721)
  [1m[36mReviewer Load (0.7ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 6228)
Completed 200 OK in 29ms (Views: 26.3ms | ActiveRecord: 0.7ms | Allocations: 6451)
Started GET "/search_dish?form_input=Pizza&sort=&commit=Cerca" for 127.0.0.1 at 2023-01-12 12:05:35 +0100
Processing by SearchController#search_dish as HTML
  Parameters: {"form_input"=>"Pizza", "sort"=>"", "commit"=>"Cerca"}
  Rendering layout layouts/application.html.erb
  Rendering search/search_dish.html.erb within layouts/application
  [1m[36mDish Load (7.6ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE (lower(name) LIKE 'pizza%')[0m
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  Rendered collection of dishes/_dish.html.erb [1 times] (Duration: 9.5ms | Allocations: 1190)
  [1m[36mCACHE Restaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReviewer Load (0.8ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered search/_form.html.erb (Duration: 6.7ms | Allocations: 1630)
  Rendered search/search_dish.html.erb within layouts/application (Duration: 55.7ms | Allocations: 6382)
  Rendered layout layouts/application.html.erb (Duration: 87.6ms | Allocations: 10553)
Completed 200 OK in 99ms (Views: 85.7ms | ActiveRecord: 11.0ms | Allocations: 11299)
Started GET "/dishes/2" for 127.0.0.1 at 2023-01-12 12:05:35 +0100
Processing by DishesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mDish Load (2.1ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering dishes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (4.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"]]
  [1m[36mReviewer Load (3.9ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReview Load (2.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  [1m[36mReport Load (2.2ms)[0m  [1m[34mSELECT "reports".* FROM "reports"[0m
  [1m[36mRestaurant Load (1.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Review Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  Rendered dishes/show.html.erb within layouts/application (Duration: 37.9ms | Allocations: 3108)
  Rendered layout layouts/application.html.erb (Duration: 49.6ms | Allocations: 7297)
Completed 200 OK in 55ms (Views: 36.2ms | ActiveRecord: 16.5ms | Allocations: 7692)
Started GET "/reviews/new?dish_id=2" for 127.0.0.1 at 2023-01-12 12:05:35 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"dish_id"=>"2"}
  Rendering layout layouts/application.html.erb
  Rendering reviews/new.html.erb within layouts/application
  [1m[36mReviewer Load (0.5ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered reviews/_form.html.erb (Duration: 17.1ms | Allocations: 3547)
  Rendered reviews/new.html.erb within layouts/application (Duration: 18.9ms | Allocations: 3801)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 7995)
Completed 200 OK in 67ms (Views: 28.6ms | ActiveRecord: 7.6ms | Allocations: 13166)
Started POST "/reviews" for 127.0.0.1 at 2023-01-12 12:05:35 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"review"=>{"images"=>[""], "rating1"=>"2", "rating2"=>"3", "rating3"=>"4", "description"=>"Pizza molto gustosa, buono il servizio", "dish_id"=>"2", "reviewer_id"=>"1"}, "commit"=>"Conferma"}
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDish Load (0.6ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mReview Create (58.2ms)[0m  [1m[32mINSERT INTO "reviews" ("rating1", "rating2", "rating3", "description", "created_at", "updated_at", "dish_id", "reviewer_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["rating1", 2], ["rating2", 3], ["rating3", 4], ["description", "Pizza molto gustosa, buono il servizio"], ["created_at", "2023-01-12 11:05:35.783521"], ["updated_at", "2023-01-12 11:05:35.783521"], ["dish_id", 2], ["reviewer_id", 1]]
  [1m[36mDish Load (0.6ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mReview Load (1.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Dish"], ["name", "images"], ["LIMIT", 1]]
  [1m[36mDish Update (0.8ms)[0m  [1m[33mUPDATE "dishes" SET "number_of_reviews" = $1, "avg_rating" = $2, "updated_at" = $3 WHERE "dishes"."id" = $4[0m  [["number_of_reviews", 1], ["avg_rating", 3.0], ["updated_at", "2023-01-12 11:05:35.865909"], ["id", 2]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 11], ["record_type", "Review"], ["name", "images"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/reviews/11
Completed 302 Found in 116ms (ActiveRecord: 64.6ms | Allocations: 4900)
Started GET "/reviews/11" for 127.0.0.1 at 2023-01-12 12:05:35 +0100
Processing by ReviewsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mReview Load (0.9ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reviews/show.html.erb within layouts/application
  [1m[36mDish Load (0.4ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Dish Load (0.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReviewer Load (0.3ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 11], ["record_type", "Review"], ["name", "images"]]
  Rendered reviews/_review.html.erb (Duration: 41.1ms | Allocations: 2722)
  [1m[36mReviewer Load (1.9ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 ORDER BY "reviewers"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered reviews/show.html.erb within layouts/application (Duration: 64.9ms | Allocations: 4408)
  [1m[36mCACHE Reviewer Load (0.0ms)[0m  [1m[34mSELECT "reviewers".* FROM "reviewers" WHERE "reviewers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 113.2ms | Allocations: 9677)
Completed 200 OK in 119ms (Views: 111.0ms | ActiveRecord: 4.6ms | Allocations: 10289)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2023-01-12 12:05:36 +0100
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered search/_form.html.erb (Duration: 6.7ms | Allocations: 999)
  Rendered home/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 1822)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 6023)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 0.0ms | Allocations: 6307)
Started GET "/reviewers/sign_up" for 127.0.0.1 at 2023-01-12 12:05:36 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 2.1ms | Allocations: 210)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 19.9ms | Allocations: 2592)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | Allocations: 6749)
Completed 200 OK in 48ms (Views: 45.9ms | ActiveRecord: 0.0ms | Allocations: 7935)
Started GET "/reviewers/sign_up?reviewer[username]=test2&reviewer[email]=test2%40test.com&reviewer[password]=[FILTERED]&reviewer[password_confirmation]=[FILTERED]&commit=Conferma" for 127.0.0.1 at 2023-01-12 12:05:36 +0100
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"reviewer"=>{"username"=>"test2", "email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Conferma"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 11)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1356)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 5383)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 0.0ms | Allocations: 6011)
